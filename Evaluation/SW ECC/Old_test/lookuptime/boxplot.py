# Import libraries
import matplotlib.pyplot as plt
import numpy as np
import statistics
  
# Creating dataset
lookup_time_rd_1 = [399182, 395442, 389440, 387059, 388251, 389478, 387134, 387670, 389653, 398925, 391701, 384670, 388238, 392504, 396741, 388767, 401626, 390015, 390911, 391070, 391619, 388143, 392810, 397816, 390415, 394516, 387631, 388239, 387603, 387899, 393821, 385694, 388217, 388892, 388711, 392892, 382808, 398674, 389913, 398958, 392935, 397310, 393847, 387540, 392090, 393105, 389485, 390011, 387508, 396043, 384865, 391505, 391332, 382219, 391923, 390388, 390578, 390650, 389901, 393237, 393925, 387086, 393789, 386270, 389585, 386046, 395420, 389716, 394346, 391183, 388454, 392444, 395093, 389589, 391724, 393644, 391049, 391462, 391190, 396108, 391360, 384602, 395859, 387956, 387943, 389449, 387141, 387456, 387506, 388508, 384766, 389230, 389848, 394170, 391068, 381279, 387364, 402459, 386977, 390814]
lookup_time_rd_100 = [390004, 393295, 385862, 389177, 391513, 397349, 391928, 396906, 388218, 387897, 389689, 395886, 397316, 387767, 390956, 389943, 387698, 388442, 390755, 394465, 385892, 382829, 388019, 385625, 395570, 394927, 387216, 398493, 386690, 388796, 389807, 388140, 389501, 390089, 391001, 384054, 389365, 395027, 389020, 389122, 386161, 388734, 388758, 392657, 390007, 386787, 385963, 393008, 386163, 389914, 392542, 392144, 386684, 388248, 395898, 392122, 398999, 391349, 391727, 390501, 386965, 396014, 388897, 391749, 390776, 393446, 393379, 390378, 389660, 390294, 396787, 394128, 388856, 393225, 389465, 393397, 392551, 402756, 391619, 387476, 392627, 395881, 390040, 385908, 388476, 391475, 383712, 389455, 390874, 385575, 392596, 394484, 391148, 384865, 390320, 394461, 394654, 391661, 392878, 383188]
lookup_time_rd_500 = [390950, 386124, 390406, 392501, 394245, 389352, 387666, 389710, 391310, 398223, 393870, 389707, 403207, 392082, 381595, 397137, 390789, 388361, 388667, 392115, 391657, 392947, 390296, 387027, 389321, 390673, 400053, 392672, 389051, 382913, 394047, 394469, 393264, 392808, 392041, 392666, 393392, 390276, 391581, 388025, 392786, 393407, 394131, 391170, 391103, 392966, 392855, 390586, 394717, 390025, 391876, 386217, 391181, 388431, 384846, 387368, 392396, 397162, 386632, 400691, 385957, 388389, 390728, 389357, 393457, 392555, 391079, 388814, 390579, 391671, 391103, 392707, 393463, 390218, 386264, 389032, 393321, 383955, 388662, 389852, 396158, 390984, 393957, 392555, 390819, 394024, 389340, 393087, 389594, 392490, 394276, 393169, 387934, 394046, 403881, 393157, 388510, 393470, 384897, 399781]
lookup_time_rd_1000 = [392432, 397886, 389015, 389435, 394897, 389946, 394655, 394128, 393716, 388588, 394645, 391587, 390352, 390824, 393070, 393636, 395993, 391276, 392930, 392179, 390227, 387307, 392535, 391520, 397488, 391784, 391843, 402201, 395196, 391931, 393295, 389701, 388651, 394692, 391539, 401814, 392594, 393439, 390244, 391679, 392010, 390282, 397657, 399019, 386565, 394135, 390097, 393134, 388505, 389871, 383282, 392721, 395664, 391807, 393554, 390011, 393917, 391167, 396185, 389821, 390616, 391649, 397120, 388383, 391335, 389492, 389498, 387117, 390538, 391994, 389641, 392971, 393939, 394557, 401980, 397313, 394359, 401247, 390311, 393224, 391618, 403845, 390756, 394315, 395825, 396250, 388267, 392550, 395691, 394418, 397353, 389543, 389056, 393400, 398008, 391341, 397291, 394536, 388566, 390668]
lookup_time_rd_1500 = [398293, 395306, 392769, 394391, 394262, 399096, 386008, 391959, 396782, 399942, 397464, 391000, 398300, 402867, 390524, 397679, 392358, 391703, 398467, 396599, 396429, 388750, 398796, 396802, 394151, 390917, 393976, 399752, 392653, 397685, 391158, 389163, 394364, 400515, 396504, 389730, 396252, 395446, 390693, 392877, 394654, 391387, 389260, 389571, 392499, 394092, 394586, 399008, 393776, 388377, 395928, 393389, 390491, 390819, 388356, 393400, 397477, 388237, 392346, 393057, 396716, 392094, 393484, 388197, 401290, 394395, 390874, 392386, 395244, 387949, 395506, 396201, 388960, 392298, 392118, 394542, 400941, 403741, 395296, 391791, 394416, 399040, 392004, 395579, 391824, 394760, 393902, 393590, 390792, 385654, 390022, 396945, 409942, 393577, 392443, 391360, 397180, 392764, 388737, 397273]
lookup_time_rd_2000 = [393868, 387795, 391301, 397076, 389140, 392744, 396981, 395352, 393337, 391587, 389762, 393710, 393739, 396487, 390437, 389377, 395333, 400113, 394786, 395116, 402195, 400705, 393673, 389836, 392525, 393863, 394741, 393421, 395370, 392136, 400291, 397241, 390071, 396208, 392764, 400059, 398618, 392874, 394467, 391856, 399236, 398423, 396314, 393269, 394548, 389996, 399721, 396434, 399299, 395793, 393563, 393225, 400551, 394675, 395876, 401084, 395056, 388916, 387612, 392651, 397358, 398139, 398478, 386390, 393095, 393972, 401369, 402156, 394130, 393550, 390652, 392853, 396058, 391896, 389829, 400183, 396130, 393963, 398158, 395584, 392713, 395051, 397581, 388922, 394727, 390254, 394979, 398088, 399077, 392620, 394471, 390372, 393584, 398177, 393539, 384697, 395000, 393773, 394050, 391927]
lookup_time_rd_2500 = [389352, 390406, 400928, 391431, 393777, 396059, 397047, 393923, 396162, 397311, 401283, 395035, 392496, 392091, 400985, 390924, 396200, 391259, 392504, 393141, 394031, 399869, 398507, 396028, 393912, 396722, 395158, 397447, 389862, 394495, 401093, 395783, 398742, 393429, 394532, 402859, 392103, 391860, 396063, 393763, 393365, 405282, 400214, 393624, 396529, 397212, 397231, 392962, 393172, 397537, 396467, 398558, 392706, 396654, 395714, 390631, 395709, 389336, 396905, 395354, 393005, 397048, 406166, 397987, 396012, 390693, 394227, 395203, 401294, 396153, 390553, 389094, 398266, 400825, 394686, 389012, 398573, 393037, 398647, 392672, 399878, 392084, 393874, 397044, 400541, 395065, 395109, 395962, 396174, 395775, 403131, 393961, 394698, 398579, 401949, 397503, 396880, 394130, 400014, 393227]
#fig = plt.figure(figsize =(10, 7))


lookup_time_rd_1 = [x / 1000 for x in lookup_time_rd_1]
lookup_time_rd_100 = [x / 1000 for x in lookup_time_rd_100]
lookup_time_rd_500 = [x / 1000 for x in lookup_time_rd_500]
lookup_time_rd_1000 = [x / 1000 for x in lookup_time_rd_1000]
lookup_time_rd_1500 = [x / 1000 for x in lookup_time_rd_1500]
lookup_time_rd_2000 = [x / 1000 for x in lookup_time_rd_2000]
lookup_time_rd_2500 = [x / 1000 for x in lookup_time_rd_2500]

stddev = statistics.stdev(lookup_time_rd_1)
print("std dev1: ",stddev)
stddev = statistics.stdev(lookup_time_rd_500)
print("std dev500: ",stddev)
stddev = statistics.stdev(lookup_time_rd_1000)
print("std dev1000: ",stddev)
stddev = statistics.stdev(lookup_time_rd_1500)
print("std dev1500: ",stddev)
stddev = statistics.stdev(lookup_time_rd_2000)
print("std dev2000: ",stddev)
stddev = statistics.stdev(lookup_time_rd_2500)
print("std dev2500: ",stddev)


 
# Creating plot
#plt.boxplot(lookup_time_rd_1,patch_artist=False, meanline=False, showmeans=True,notch=True)

fig, ax = plt.subplots()
columns = [lookup_time_rd_1,lookup_time_rd_500 ,lookup_time_rd_1000,lookup_time_rd_1500,lookup_time_rd_2000]
ax.boxplot(columns, patch_artist=False, meanline=True, showmeans=True,notch=True)
#ax.set_ylim(ymin=0)
plt.xticks([1, 2, 3, 4,5], ["k=1","k=500","k=1000","k=1500","k=2000"])

#plt.title('certificate lookup time with crypto-software')
plt.xlabel('Number of cert stored in rd')
plt.ylabel('time [ms]')

# show plot
plt.show()