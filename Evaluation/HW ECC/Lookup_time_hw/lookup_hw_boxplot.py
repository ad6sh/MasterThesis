# Import libraries
import matplotlib.pyplot as plt
import numpy as np
import statistics
  
# Creating dataset
lookup_time_rd_1 =[68982, 68092, 69323, 67176, 68143, 69593, 68270, 68912, 67682, 68539, 66154, 68836, 66558, 67413, 68966, 71221, 67187, 68771, 66151, 69148, 67991, 67653, 68359, 66840, 68987, 67715, 70034, 69351, 68287, 69549, 70927, 68939, 66470, 68783, 67563, 68086, 67657, 65995, 67087, 70521, 68516, 68450, 70071, 66517, 69513, 69120, 68787, 67846, 67327, 68985, 66608, 69565, 68396, 68683, 69902, 69801, 69875, 69868, 70621, 68225, 68363, 68639, 67678, 71312, 67811, 66775, 66702, 67701, 66420, 69358, 68858, 65762, 68774, 69559, 68145, 67311, 66818, 67180, 69334, 70345, 67200, 67466, 67716, 68301, 70500, 69036, 70409, 69180, 68609, 68782, 67697, 66354, 69625, 65324, 65241, 65995, 67124, 66183, 68885, 69154]
lookup_time_rd_500 =[67084, 69540, 69674, 69554, 68518, 71278, 68885, 74865, 69427, 71249, 69867, 69095, 69281, 70846, 74921, 69827, 70231, 71588, 70434, 73712, 68066, 68284, 68787, 69712, 69460, 69851, 68285, 67501, 69535, 69435, 70692, 68486, 69143, 69936, 67095, 67629, 67534, 71900, 78887, 68458, 70484, 66193, 68943, 70188, 70788, 77113, 69162, 69868, 70443, 69139, 77716, 67299, 70849, 68398, 71096, 72098, 67821, 69461, 70219, 69680, 68986, 70978, 69018, 67450, 70748, 69165, 70240, 68278, 67104, 68189, 68103, 68165, 70725, 68483, 69348, 71654, 68572, 68786, 69468, 68455, 71210, 68050, 68702, 68354, 68638, 68818, 69563, 69441, 69738, 70728, 69837, 70794, 68684, 68754, 70479, 69480, 69142, 69912, 68094, 70723]
lookup_time_rd_1000 =[69715, 69625, 69717, 69697, 69512, 70083, 70981, 70789, 70392, 73302, 69498, 71066, 70466, 71065, 70303, 73202, 72252, 69301, 77110, 73317, 69895, 71841, 69867, 72191, 71587, 70630, 70447, 71874, 73020, 71545, 70849, 71143, 73060, 71391, 68418, 69668, 70075, 70022, 74053, 69830, 70095, 71438, 72287, 69155, 72665, 70746, 67944, 68339, 72974, 68849, 71767, 71928, 71458, 77836, 72431, 71700, 68931, 71511, 71665, 71140, 68491, 70331, 70520, 72633, 71709, 69539, 68952, 68595, 70358, 71467, 71544, 69134, 71718, 71026, 72641, 69816, 71833, 71981, 71281, 74815, 70116, 72285, 68971, 72851, 72063, 72469, 73802, 70611, 69632, 70045, 71447, 71529, 69096, 73604, 70726, 71735, 73727, 70579, 71262, 70808]
lookup_time_rd_1500 =[70966, 70441, 72468, 69780, 70804, 71652, 73370, 71486, 71654, 70946, 72939, 79021, 74485, 69617, 70994, 73064, 75297, 71742, 70948, 73450, 73648, 72428, 71956, 72452, 72053, 74580, 71747, 70672, 73294, 71891, 73427, 72688, 72552, 72162, 71309, 68510, 72980, 70953, 73080, 72923, 72947, 71603, 73704, 73428, 69835, 74605, 72577, 72492, 72423, 72987, 71176, 72387, 70519, 75625, 74671, 74770, 70180, 73057, 75502, 75302, 71344, 71115, 72085, 70359, 72675, 71411, 71219, 82403, 71815, 71032, 71986, 70628, 77644, 71806, 70977, 71669, 70464, 72912, 71520, 74974, 71945, 72260, 78771, 71743, 71694, 72408, 73496, 70984, 70745, 70892, 71749, 70669, 71078, 72024, 72127, 72119, 70384, 72359, 75043, 69631]
lookup_time_rd_2000 =[74877, 71130, 76057, 76822, 74624, 72106, 71461, 74706, 72824, 80339, 73568, 69774, 72344, 72881, 71134, 73327, 72713, 82513, 73521, 74457, 74491, 71759, 71573, 72758, 72588, 73527, 72423, 71701, 75213, 73263, 74851, 75940, 71631, 70701, 75172, 75341, 72637, 82536, 72648, 73517, 75090, 73012, 74700, 74744, 73699, 72662, 75803, 73293, 84957, 71827, 73451, 71938, 75997, 75339, 73757, 71933, 74527, 71232, 74584, 72938, 73938, 84560, 73119, 75095, 73212, 71978, 74775, 72714, 72742, 72437, 74389, 73624, 74525, 76057, 72041, 74713, 75044, 73838, 73614, 73391, 73997, 70461, 72282, 73426, 73861, 71521, 72501, 73407, 72717, 76573, 74669, 74304, 71549, 73042, 73983, 71833, 72062, 74976, 73064, 73589]
#fig = plt.figure(figsize =(10, 7))


lookup_time_rd_1 = [x / 1000 for x in lookup_time_rd_1]
lookup_time_rd_500 = [x / 1000 for x in lookup_time_rd_500]
lookup_time_rd_1000 = [x / 1000 for x in lookup_time_rd_1000]
lookup_time_rd_1500 = [x / 1000 for x in lookup_time_rd_1500]
lookup_time_rd_2000 = [x / 1000 for x in lookup_time_rd_2000]

stddev = statistics.stdev(lookup_time_rd_1)
print("std dev1: ",stddev)
stddev = statistics.stdev(lookup_time_rd_500)
print("std dev500: ",stddev)
stddev = statistics.stdev(lookup_time_rd_1000)
print("std dev1000: ",stddev)
stddev = statistics.stdev(lookup_time_rd_1500)
print("std dev1500: ",stddev)
stddev = statistics.stdev(lookup_time_rd_2000)
print("std dev2000: ",stddev)



 
# Creating plot
#plt.boxplot(lookup_time_rd_1,patch_artist=False, meanline=False, showmeans=True,notch=True)

fig, ax = plt.subplots()
columns = [lookup_time_rd_1,lookup_time_rd_500 ,lookup_time_rd_1000,lookup_time_rd_1500,lookup_time_rd_2000]
ax.boxplot(columns, patch_artist=False, meanline=True, showmeans=True,notch=True)
#ax.set_ylim(ymin=0)
plt.xticks([1, 2, 3, 4,5], ["k=1","k=500","k=1000","k=1500","k=2000"])

#plt.title('certificate lookup time with crypto-hardware accelerator')
plt.xlabel('Number of cert stored in rd')
plt.ylabel('time [ms]')

# show plot
plt.show()